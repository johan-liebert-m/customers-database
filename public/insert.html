<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>
	<meta name='author' content='Fouad Nouioua'>
	<meta name='description' content='insert users into mongo database'>
	<meta name='keywords' content='mongodb,insert'>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
	<style>
		a, a:hover { text-decoration: none }
	</style>
</head>
<body class='container-fluid'><br>
	<div class='jumbotron'>
		<span class='text-primary'><h1 class='text-center'>Insert Customers Informations</h1></span>
	</div>

	<form class='form-group' action='/insert' method='post'><br>
		<label>First Name :</label>
		<input class='form-control' type='text' name='firstName' placeholder='Enter The First Name' autocomplete='off' autofocus required pattern='[a-zA-z]{3,12}' title='first name should only contain letters (minlength: 3, maxlength: 12)' maxlength='12'><br>
		<label>Last Name :</label>
		<input class='form-control' type='text' name='lastName' placeholder='Enter The Last Name' autocomplete='off' autofocus required pattern='[a-zA-z]{3,12}' title='last name should only contain letters (minlength: 3, maxlength: 12)' maxlength='12'><br>
		<label>Age :</label>
		<input class='form-control' type='number' name='age' placeholder='Enter The Age' autocomplete='off' autofocus required min="18" max="70"><br>
		<label>Phone Number :</label>
		<input class='form-control' type='text' name='phoneNumber' placeholder='Enter The Phone Number' autocomplete='off' autofocus required maxlength="10" pattern='[0-9]{10}'><br>
		<button class='btn btn-block btn-success' type='submit'>Save</button>
	</form>

	<a href='/customersdb' target='_blank'><button class='btn btn-block btn-info'>Show Customers Database</button></a><br>
    
    <button type="button" class="btn btn-block btn-warning" data-toggle="modal" data-target="#update" onclick='focusUpdate()'>Update A Customer</button><br>
	<div id='update' class='modal fade' role='dialog'>
		<div class='modal-dialog'>
			<div class='modal-content'>
				<div class='modal-header'>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class='modal-title'>Update A Customer</h4>
				</div>
				<div class='modal-body'>
					<form class='form-group' action='/update' method='post'>
                        <label>Phone Number :</label>
                        <input class='form-control' id='phoneUpdate' type='text' name='phoneUpdate' placeholder='Enter The Phone Number' autocomplete='off' required maxlength='10' pattern='[0-9]{10}'><br>
                        <label>New First Name :</label>
                        <input class='form-control' type='text' name='newFirstName' placeholder='Enter The New First Name' autocomplete='off' autofocus required pattern='[a-zA-z]{3,12}' title='first name should only contain letters (minlength: 3, maxlength: 12)' maxlength='12'><br>
                        <label>New Last Name :</label>
                        <input class='form-control' type='text' name='newLastName' placeholder='Enter The New Last Name' autocomplete='off' autofocus required pattern='[a-zA-z]{3,12}' title='last name should only contain letters (minlength: 3, maxlength: 12)' maxlength='12'><br>
                        <label>New Age :</label>
                        <input class='form-control' type='number' name='newAge' placeholder='Enter The New Age' autocomplete='off' autofocus required min="18" max="70"><br>
                        <label>New Phone Number</label>
                        <input class='form-control' type='text' name='newPhoneNumber' placeholder='Enter The New Phone Number' autocomplete='off' autofocus required maxlength="10" pattern='[0-9]{10}'><br>
						<button class='btn btn-block btn-warning' type='submit'>Confirm & Update A Customer</button>
					</form>
				</div>
				<div class='modal-footer'>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
    
    <button type="button" class="btn btn-block btn-danger" data-toggle="modal" data-target="#delete" onclick='focusDelete()'>Delete A Customer</button><br>
	<div id='delete' class='modal fade' role='dialog'>
		<div class='modal-dialog'>
			<div class='modal-content'>
				<div class='modal-header'>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class='modal-title'>Delete A Customer</h4>
				</div>
				<div class='modal-body'>
					<form class='form-group' action='/delete' method='post'>
                        <label>Phone Number :</label>
                        <input class='form-control' id='phoneDelete' type='text' name='phoneDelete' placeholder='Enter The Phone Number' autocomplete='off' required maxlength='10' pattern='[0-9]{10}'><br>
						<button class='btn btn-block btn-danger' type='submit'>Confirm & Delete The Customer</button>
					</form>
				</div>
				<div class='modal-footer'>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<button type="button" class="btn btn-block btn-danger" data-toggle="modal" data-target="#clear">Clear The Database</button>
	<div id='clear' class='modal fade' role='dialog'>
		<div class='modal-dialog'>
			<div class='modal-content'>
				<div class='modal-header'>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class='modal-title'>Clear The Database</h4>
				</div>
				<div class='modal-body'>
					<form class='form-group' action='/clear' method='post'>
						<button class='btn btn-block btn-danger' type='submit'>Confirm & Clear The Database</button>
					</form>
				</div>
				<div class='modal-footer'>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	<br>
    
    <a href='/download' target='_blank'><button class='btn btn-block btn-primary'>Download The Database</button></a><br>
<script>
    function focusUpdate() {
        if (document.getElementById('update').style.display = 'block') {
            document.getElementById('phoneUpdate').focus();
        }
    }
    
    function focusDelete() {
        if (document.getElementById('delete').style.display = 'block') {
            document.getElementById('phoneDelete').focus();
        }
    }
</script>
</body>
</html>